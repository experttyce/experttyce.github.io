<!DOCTYPE html>
<html>
    <head>
        <!--[if lte IE 9]>
        <script type="text/javascript">
            window.location = "/browser-compatibility";
        </script>
        <![endif]-->
        <title>Crea un servicio que avise por correo cuando otro servicio crítico falle</title>
        <link rel="shortcut icon" href="../favicon.png" type="image/png" />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="expertTyCE" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Crea un servicio que avise por correo cuando otro servicio crítico falle" />
    <meta property="og:description" content="Systemd provee un proceso estandard para controlar que programas son ejecutados cuando inicia un sistema operativo como Linux. Systemd fué creado por Lennart Poettering y Kay Sievers e introducido por RedHat como un estandard que pretende reemplazar los viejos scripts de arranque y parada de servicios. Hoy en dia es" />
    <meta property="og:url" content="http://localhost:2368/configurar-systemd-para-enviar-correo-en-caso-de-falla/" />
    <meta property="og:image" content="http://localhost:2368/content/images/2018/02/Untitled-design--2-.png" />
    <meta property="article:published_time" content="2018-02-07T17:15:33.000Z" />
    <meta property="article:modified_time" content="2018-02-07T17:15:33.000Z" />
    <meta property="article:tag" content="Linux" />
    <meta property="article:tag" content="SysAdmin" />
    <meta property="article:tag" content="Systemd" />
    
    <meta property="article:publisher" content="https://www.facebook.com/experttyce" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Crea un servicio que avise por correo cuando otro servicio crítico falle" />
    <meta name="twitter:description" content="Systemd provee un proceso estandard para controlar que programas son ejecutados cuando inicia un sistema operativo como Linux. Systemd fué creado por Lennart Poettering y Kay Sievers e introducido por RedHat como un estandard que pretende reemplazar los viejos scripts de arranque y parada de servicios. Hoy en dia es" />
    <meta name="twitter:url" content="http://localhost:2368/configurar-systemd-para-enviar-correo-en-caso-de-falla/" />
    <meta name="twitter:image" content="http://localhost:2368/content/images/2018/02/Untitled-design--2-.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="carlos" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Linux, SysAdmin, Systemd" />
    <meta name="twitter:site" content="@experttyce" />
    <meta property="og:image:width" content="640" />
    <meta property="og:image:height" content="426" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "expertTyCE",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/content/images/2018/01/beaverton--1--2.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "carlos",
        "image": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/content/images/2018/07/carlos-b-w.jpg",
            "width": 640,
            "height": 480
        },
        "url": "http://localhost:2368/author/carlos/",
        "sameAs": []
    },
    "headline": "Crea un servicio que avise por correo cuando otro servicio crítico falle",
    "url": "http://localhost:2368/configurar-systemd-para-enviar-correo-en-caso-de-falla/",
    "datePublished": "2018-02-07T17:15:33.000Z",
    "dateModified": "2018-02-07T17:15:33.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:2368/content/images/2018/02/Untitled-design--2-.png",
        "width": 640,
        "height": 426
    },
    "keywords": "Linux, SysAdmin, Systemd",
    "description": "Systemd provee un proceso estandard para controlar que programas son ejecutados cuando inicia un sistema operativo como Linux. Systemd fué creado por Lennart Poettering y Kay Sievers e introducido por RedHat como un estandard que pretende reemplazar los viejos scripts de arranque y parada de servicios. Hoy en dia es",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <script src="../public/ghost-sdk.js?v=19547ebec1"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "3a40930b942a"
});
</script>
    <meta name="generator" content="Ghost 1.25" />
    <link rel="alternate" type="application/rss+xml" title="expertTyCE" href="../rss/index.html" />
    <script src="http://load.sumome.com/" data-sumo-site-id="3b2cf47018676b95f5485952f51cb9fd92dcd2da5f26ee83976ff570cd8362b4" async="async"></script>
<script>
var tag_names = ['php', 'codeigniter', 'swagger', 'api rest', 'linux'];
var ga_id = 'UA-80336852-4';
var disqus_shortname = 'experttyce'
var profile_title = 'expertTyCE';
var profile_resume ='SysAdmin, Developer, DBA';
</script>
	<meta name="google-site-verification" content="bkmNPPp4ApqNwhbL5FwLmiwxfvXVYvhN_QdzBSR4z3Y" />
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/icons/apple/apple-touch-icon-57x57.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/icons/apple/apple-touch-icon-60x60.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/icons/apple/apple-touch-icon-72x72.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/icons/apple/apple-touch-icon-76x76.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/icons/apple/apple-touch-icon-114x114.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/icons/apple/apple-touch-icon-120x120.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/icons/apple/apple-touch-icon-144x144.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/icons/apple/apple-touch-icon-152x152.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/icons/apple/apple-touch-icon-180x180.png?v=gAAmLMYXpw">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-32x32.png?v=gAAmLMYXpw" sizes="32x32">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-194x194.png?v=gAAmLMYXpw" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-96x96.png?v=gAAmLMYXpw" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/icons/android/android-chrome-192x192.png?v=gAAmLMYXpw" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-16x16.png?v=gAAmLMYXpw" sizes="16x16">
<link rel="manifest" href="../assets/img/icons/android/manifest.json?v=gAAmLMYXpw">
<link rel="mask-icon" href="../assets/img/icons/safari/safari-pinned-tab.svg?v=gAAmLMYXpw" color="#56817a">
<link rel="shortcut icon" href="../assets/img/icons/favicon/favicon.ico?v=gAAmLMYXpw">
<meta name="msapplication-TileColor" content="#56817a">
<meta name="msapplication-TileImage" content="/assets/img/icons/microsoft/mstile-144x144.png?v=gAAmLMYXpw">
<meta name="msapplication-config" content="/assets/img/icons/microsoft/browserconfig.xml?v=gAAmLMYXpw">
<meta name="theme-color" content="#56817a">
        <link rel="stylesheet" type="text/css" href="../assets/css/caffeine-theme.css?v=19547ebec1" />
	<link rel="stylesheet" type="text/css" href="../assets/css/prism_.css?v=19547ebec1"/>
        <style>
@font-face{font-family:Raleway;font-weight:400;font-style:normal;src:local('Raleway'),local('Raleway-regular'),url(https://fonts.gstatic.com/s/raleway/v10/QAUlVt1jXOgQavlW5wEfxQLUuEpTyoUstqEm5AMlJo4.woff2) format('woff2'),url(https://fonts.gstatic.com/s/raleway/v10/cIFypx4yrWPDz3zOxk7hIQLUuEpTyoUstqEm5AMlJo4.woff) format('woff'),url(https://fonts.gstatic.com/s/raleway/v10/bIcY3_3JNqUVRAQQRNVteQ.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=IP_NSg73bUZGuyb3zF6qcQ&skey=30a27f2564731c64&v=v10#Raleway) format('svg')}@font-face{font-family:Raleway;font-weight:700;font-style:normal;src:local('Raleway Bold'),local('Raleway-700'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaIwzyDMXhdD8sAj6OAJTFsBI.woff2) format('woff2'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaI73hpw3pgy2gAi-Ip7WPMi0.woff) format('woff'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaIy3USBnSvpkopQaUR-2r7iU.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=JbtMzqLaYbbbCL9X6EvaI6WUboTb-jS2tyCOQMtm97g&skey=e507c3e2b7915ad1&v=v10#Raleway) format('svg')}@font-face{font-family:'Roboto Slab';font-weight:300;font-style:normal;src:local('Roboto Slab Light'),local('Roboto-Slab-300'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJdTIkQYohD4BpHvJ3NvbHoA.woff2) format('woff2'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJfR_54zmj3SbGZQh3vCOwvY.woff) format('woff'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJbfB31yxOzP-czbf6AAKCVo.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=dazS1PrQQuCxC3iOAJFEJT4dnM32POWavC8T_whbZeI&skey=5b48fccf0dc70db6&v=v6#RobotoSlab) format('svg')}@font-face{font-family:'Roboto Slab';font-weight:400;font-style:normal;src:local('Roboto Slab Regular'),local('Roboto-Slab-regular'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37Zogp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37ZrrIa-7acMAeDBVuclsi6Gc.woff) format('woff'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37Zp0EAVxt0G0biEntp43Qt6E.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=y7lebkjgREBJK96VQi37ZnNsigHlcrQGNV8nkUSFQfc&skey=a9ad6a4717e923f0&v=v6#RobotoSlab) format('svg')}
</style>        <script type="text/javascript">
try{var storage=window.sessionStorage;storage&&"1"==storage.getItem("fonts-loaded")&&(window.document.documentElement.className+=" fonts-loaded")}catch(e){}
</script><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-8945120579775805",
    enable_page_level_ads: true
  });
</script>
    </head>
    <body class="post-template tag-linux tag-sysadmin tag-systemd">
        <header id="default-nav-header" class="nav-header nav-header-fixed animated">
    <a id="home-button" href="../index.html">
        <img src="../content/images/2018/01/beaverton--1--2.png" alt="expertTyCE avatar" class="avatar rounded hvr-buzz-out" />
      </a>
    <a class="tags-button right">
        <i class="fa fa-search hvr-grow"></i>
    </a>
</header>
        <aside class="cover animated" style="background-image: url(../content/images/2018/01/2012-10-17_15-01-37_318.jpg)">
    <div class="background-container">
        <div class="profile">
            <header id="aside-header" class="nav-header mobile">
                <a id="aside-close-button" class="open-link right">
                    <i class="fa fa-close"></i>
                </a>
            </header>
            <div class="profile-logo">
                <a id="avatar-link" class="open-link" title="Link to homepage for expertTyCE" href="../index.html#open">
                    <img src="../content/images/2018/01/beaverton--1--2.png" alt="expertTyCE avatar" class="avatar rounded hvr-buzz-out" />
                </a>
            </div>
            <div class="profile-header">
                <a class="open-link" title="Link to homepage for expertTyCE" href="../index.html#open">
                    <h1 class="profile-title">expertTyCE</h1>
                </a>
            </div>
            <div class="profile-body">
                <a class="open-link" title="Link to homepage for expertTyCE" href="../index.html#open">
                    <h3 id="profile-resume"></h3>
                </a>
                <hr class="divider long" />
                <p>la mayoría de los buenos programadores hacen programación no porque esperan que les paguen o para que el público los adule, sino porque es divertido programar.</p>
                <hr class="divider short" />
                    <div class="call-to-action-container">
                        <nav class="navigation">
    <ul class="links">
        <li class="nav-blog ">
            <a class="home-link" href="../index.html#open" title="expertTyCE blog">Blog</a>
        </li>
        <li class="nav-acerca-de ">
            <a href="../author/carlos/index.html">Acerca de</a>
        </li>
        <li class="subscribe-button nav-blog hide ">
            <a class="subscribe-link" href="../index.html#open" title="subscribe">Subscribe</a>
        </li>
    </ul>
</nav>

                    </div>
            </div>
            <ul class="social expanded">

    <!-- Facebook -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="https://www.facebook.com/experttyce" title="expertTyCE en Facebook">
            <i class='fa fa-facebook-official'></i>
            <span class="label">Facebook</span>
        </a>
    </li>

    <!-- Twitter -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="http://twitter.com/experttyce" title="@experttyce en Twitter">
            <i class='fa fa-twitter'></i>
            <span class="label">Twitter</span>
        </a>
    </li>

    <!-- Linkedin -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="http://www.linkedin.com/in/orozcopc" title="Carlos en LinkedIn">
            <i class='fa fa-linkedin-square'></i>
            <span class="label">Linkedin</span>
        </a>
    </li>

    <!-- Github -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="https://github.com/corozcop" title="Carlos en Github">
            <i class='fa fa-github'></i>
            <span class="label">Github</span>
        </a>
    </li>

    <!-- RSS -->
    <li class="social item hvr-grow-rotate">
        <a href="../rss/index.html" title="Subscribe to RSS">
            <i class='fa fa-rss'></i>
            <span class="label">RSS</span>
        </a>
    </li>
</ul>
        </div>
    </div>
</aside>

<div class="blog-header">
    <a title="Link to homepage for expertTyCE" href="../index.html#open">
        <h1 class="profile-title hvr-float">expertTyCE</h1>
    </a>
    <nav class="navigation">
    <ul class="links">
        <li class="nav-blog ">
            <a class="home-link" href="../index.html#open" title="expertTyCE blog">Blog</a>
        </li>
        <li class="nav-acerca-de ">
            <a href="../author/carlos/index.html">Acerca de</a>
        </li>
        <li class="subscribe-button nav-blog hide ">
            <a class="subscribe-link" href="../index.html#open" title="subscribe">Subscribe</a>
        </li>
    </ul>
</nav>

</div>
        <main class="animated">
            <section class="content">
                

  <article class="post tag-linux tag-sysadmin tag-systemd">
    <div class="material-cover animated fade-in" style="background-image: url(../content/images/2018/02/Untitled-design--2-.png)">
    <div class="background-container"></div>
</div>
    <div class="post-card animated fade-in">
        <a id="back-button" href="index.html#open" title="Go back" class="hvr-grow">
            <div class="back-button">
                <i class="fa fa-arrow-left"></i>
            </div>
        </a>
        <div class="post-container">
            <div class="post-header">
                <div class="meta">
                    <time datetime="February 07, 2018">6 months ago</time>
                    <span class="tags">in <a href="../tag/linux/index.html">Linux</a> <a href="../tag/sysadmin/index.html">SysAdmin</a> <a href="../tag/systemd/index.html">Systemd</a></span>
                    <span class="reading-time"> ~ <span></span> read.</span>
                </div>
                <h1 id="post-title">
                    Crea un servicio que avise por correo cuando otro servicio crítico falle
                </h1>
<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-8945120579775805",
    enable_page_level_ads: true
  });
</script>
                <div class="share">
                    <ul class="share-buttons">
    <li class="hvr-grow-rotate">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F&t=Crea%20un%20servicio%20que%20avise%20por%20correo%20cuando%20otro%20servicio%20cr%C3%ADtico%20falle" target="_blank" title="Share on Facebook">
            <i class="fa fa-facebook-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F&text=Crea%20un%20servicio%20que%20avise%20por%20correo%20cuando%20otro%20servicio%20cr%C3%ADtico%20falle:http%3A%2F%2Flocalhost%3A2368/configurar-systemd-para-enviar-correo-en-caso-de-falla/" target="_blank" title="Tweet">
            <i class="fa fa-twitter-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F" target="_blank" title="Share on Google+">
            <i class="fa fa-google-plus-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="http://www.reddit.com/submit?url=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F&title=Crea%20un%20servicio%20que%20avise%20por%20correo%20cuando%20otro%20servicio%20cr%C3%ADtico%20falle" target="_blank" title="Submit to Reddit">
            <i class="fa fa-reddit-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F&title=Crea%20un%20servicio%20que%20avise%20por%20correo%20cuando%20otro%20servicio%20cr%C3%ADtico%20falle&source=http%3A%2F%2Flocalhost%3A2368%2Fconfigurar-systemd-para-enviar-correo-en-caso-de-falla%2F" target="_blank" title="Share on LinkedIn">
            <i class="fa fa-linkedin-square"></i>
        </a>
    </li>
</ul>                </div>
            </div>
             <div class="post-content">
                <div class="kg-card-markdown"><p>Systemd provee un proceso estandard para controlar que programas son ejecutados cuando inicia un sistema operativo como Linux. Systemd fué creado por Lennart Poettering y Kay Sievers e introducido por RedHat como un estandard que pretende reemplazar los viejos scripts de arranque y parada de servicios. Hoy en dia es utilizado para administrar procesos tan importantes como el journal, el stack de red, job scheduler, login de usarios y muchos otros mas.</p>
<p>Crear nuestros propios servicios es una tarea sencilla, si lo que pretendemos es ejecutar un programa echo en Python, PHP o en cualquier otro lenguaje, solo bastará con crear un script en /etc/systemd/system</p>
<p><strong>myproject.service</strong></p>
<pre><code class="language-bash">[Unit]
Description=uWSGI instance to serve myproject
After=network.target
[Service]
User=user
Group=www-data
WorkingDirectory=/home/user/myproject
Environment=”PATH=/home/user/myproject/myprojectenv/bin”
ExecStart=/home/user/myproject/myprojectenv/bin/uwsgi — ini myproject.ini
[Install]
WantedBy=multi-user.target
</code></pre>
<p>Este es un ejemplo de un servicio que levanta una aplicacion hecha en Python y Flask, pero que sucede si este programa por alguna razón falla, bueno siempre tenemos la opcion de colocar en la sección [Service] la siguiente directiva</p>
<pre><code class="language-bash">[service]
Restart=always
RestartSec=3
</code></pre>
<p>La cual se encargará de reiniciar el servicio automaticamente en caso de alguna falla en el programa, pero esto no resuelve el problema, necesitamos saber el porqué nuestro programa falla en ocasiones, siempre contamos con la opcion de buscar en el log que sucedió, pero ademas podemos indicarle al servicio que nos avise cuando esto pase y nos envíe los mensajes de error que arrojó la falla.</p>
<p>Como prerequisito necesitamos configurar en este servidor el servicio de envio de correo electronico desde consola, prueba si eso es posible.</p>
<pre><code class="language-bash">[root@tecadmin ~]# mail -s &quot;Test Subject&quot; user@example.com &lt; /dev/null
</code></pre>
<p>con Sendmail</p>
<pre><code class="language-bash">[root@tecadmin ~]# sendmail user@example.com  &lt; /tmp/email.txt
</code></pre>
<p>Comenzamos creando un script para enviar correo electronico <strong>/bin/unit-status-mail.sh</strong></p>
<pre><code class="language-bash">#!/bin/bash
MAILTO=&quot;administradorsysadmin@gmail.com&quot;
MAILFROM=&quot;unit-status-mailer&quot;
UNIT=$1
EXTRA=&quot;&quot;
for e in &quot;${@:2}&quot;; do
  EXTRA+=&quot;$e&quot;$'\n'
done
UNITSTATUS=$(systemctl status $UNIT)
sendmail $MAILTO &lt;&lt;EOF
From:$MAILFROM
To:$MAILTO
Subject:Status mail for unit: $UNIT
Status report for unit: $UNIT
$EXTRA
$UNITSTATUS
EOF
echo -e &quot;Status mail sent to: $MAILTO for unit: $UNIT&quot;
</code></pre>
<p>Importante asignarle derechos de ejecucion <strong>chmod +x /bin/unit-status-mail.sh</strong></p>
<p>Ahora crearemos un servicio llamado <strong>unit-status-mail@.service</strong> que va a consumir el script anterior</p>
<pre><code class="language-bash">[Unit]
Description=Unit Status Mailer Service
After=network.target
[Service]
Type=simple
ExecStart=/bin/unit-status-mail.sh %I &quot;Hostname: %H&quot; &quot;Machine ID: %m&quot; &quot;Boot ID: %b&quot;
</code></pre>
<p>y finalmente en el script del servicio que queremos monitorear, colocarmos en la seccion de <strong>[Unit]</strong></p>
<p><strong>myproject.service</strong></p>
<pre><code class="language-bash">OnFailure=unit-status-mail@%n.service
</code></pre>
<p>Actualizamos los cambios</p>
<pre><code class="language-bash">sudo systemctl daemon-reload
</code></pre>
<p>y reinciamos el servicio que vamos a monitorear, en este ejemplo es <strong>myproject.service</strong></p>
<pre><code class="language-bash">sudo systemctl restart my-upmyproject
</code></pre>
<p>Este es un ejemplo del correo que nos llegará cuando ocurra algun error, en este caso es un servicio del servidor de MongoDB</p>
<p><img src="../content/images/2018/02/Screen-Shot-2018-02-07-at-10.31.56-AM.png" alt="Screen-Shot-2018-02-07-at-10.31.56-AM"></p>
</div>
            </div>
                <div class='author-credit'>
        <figure class="author-image">
            <a class="img" href="../author/carlos/index.html">
                    <img src="../content/images/2018/07/carlos-b-w.jpg" alt="carlos's picture" class="avatar rounded" />
            </a>
        </figure>

        <div class="author-info">
            <h4><a href="../author/carlos/index.html" class='author-name'>carlos</a></h4>
                <p>Read <a href="../author/carlos/index.html">more posts</a> by this author.</p>
            <div class="author-meta">
                
            </div>
        </div>
    </div>
            <footer class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>
        </div>
    </div>
    <div class="post-related pagination">
        <a rel="prev" id="prev-btn" class="btn hvr-grow" href="../servidor-de-desarrollo-lemp-con-la-ayuda-de-easyengine-vagrant-y-virtualbox/index.html">
            <i class="fa fa-arrow-left"></i>
            <span>Servidor de desarrollo LEMP con la ayuda de EasyEngine, Vagrant y Virtualbox</span>
        </a>

        <a rel="next" id="next-btn" class="btn hvr-grow" href="../handsontable-edita-rapidamente-tus-registros/index.html">
            <span>HANDSONTABLE, edita rapidamente tus registros</span>
            <i class="fa fa-arrow-right"></i>
        </a>
    <div class="clear"></div>
</div>  </article>


                <footer>
    <span class="copyright">
        &copy; 2018 expertTyCE. All Rights Reserved. | Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/kelyvin/caffeine-theme" target="_blank">Caffeine Theme</a>.
    </span>
</footer>
            </section>
        </main>
        <aside class="tags-overlay animated">
    <div class="tags-overlay container">
        <section id="search-container" class="search-container">
    <form id="search-form" class="search-form">
        <input id="search-field" class="search-field" type="text", name="search", placeholder="git, code, javascript,..." />
    </form>
    <hr class="divider short" />
</section>
<section id="search-results" class="search-results"></section>        
<div id="popular-tags" class="tags-container">
    <h2>Popular Tags</h2>
    <div class="tags">
    </div>
</div>    </div>
</aside>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/masonry-layout@4.0/dist/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/scrollreveal.js/3.0.9/scrollreveal.min.js"></script>
        <script src="../assets/js/caffeine-theme.js?v=19547ebec1" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="../assets/js/prism_.js?v=19547ebec1"></script>
        <script>
    if (window.ga_id) {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', window.ga_id, 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('send', 'pageview');
    }
</script>
        <script type="text/javascript">
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + window.disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>    </body>
</html>
